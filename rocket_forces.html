<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Forces on a Rocket</title>
  <style>
    body {
      background-color: #E6F3FF;
      font-family: 'Comic Sans MS', sans-serif;
      display: flex;
      flex-direction: row;
      justify-content: space-between;
      padding: 20px;
      flex-wrap: wrap;
      overflow-x: hidden;
    }

    h1 {
      text-align: center;
      width: 100%;
    }

    .rocket-area {
      position: relative;
      width: 400px;
      height: 600px;
      margin-left: 80px;
    }

    .rocket-area img {
      width: 100%;
      height: auto;
      user-select: none;
      touch-action: none;
    }

    .drop-zone {
      position: absolute;
      width: 150px;
      height: 60px;
      border: 2px dashed #333;
      border-radius: 10px;
      background-color: rgba(255, 255, 255, 0.8);
      text-align: center;
      line-height: 60px;
      font-weight: bold;
      user-select: none;
      touch-action: none;
      transition: transform 0.2s ease, background-color 0.3s ease;
    }

    #dragZone { top: 180px; left: 450px; }   /* drag box ~3 inches right */
    #liftZone { top: 50px; left: 150px; }
    #gravityZone { top: 450px; left: 200px; }
    #thrustZone { top: 500px; left: 100px; }

    .word-bank {
      display: flex;
      flex-direction: column;
      gap: 15px;
      margin-right: 40px;
      margin-top: 100px;
      align-items: center;
    }

    .draggable {
      width: 120px;
      padding: 10px;
      background-color: #FFCC80;
      border: 2px solid #333;
      border-radius: 8px;
      text-align: center;
      font-weight: bold;
      cursor: grab;
      user-select: none;
      touch-action: none;
      transition: transform 0.15s ease;
    }

    .draggable:active {
      transform: scale(1.1);
    }

    .snap {
      animation: snapIn 0.25s ease;
    }

    @keyframes snapIn {
      0% { transform: scale(1.2); background-color: #FFF176; }
      100% { transform: scale(1); background-color: #FFCC80; }
    }

    .wrong {
      background-color: #FF8A80 !important;
      border-color: #C62828;
    }

    .definitions-box {
      width: 300px;
      background-color: #FFF8E1;
      border: 2px solid #333;
      border-radius: 10px;
      padding: 15px;
      font-size: 14px;
      line-height: 1.5;
    }

    button {
      margin-top: 20px;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.2s;
    }

    button:hover {
      background-color: #45a049;
    }
  </style>
</head>
<body>
  <h1>Forces Acting on a Rocket</h1>

  <div class="word-bank" id="wordBank">
    <div class="draggable" draggable="true" data-correct="dragZone">Drag</div>
    <div class="draggable" draggable="true" data-correct="liftZone">Lift</div>
    <div class="draggable" draggable="true" data-correct="gravityZone">Gravity</div>
    <div class="draggable" draggable="true" data-correct="thrustZone">Thrust</div>
    <button id="resetBtn">Reset</button>
  </div>

  <div class="rocket-area">
    <img src="rocket.png" alt="Rocket">
    <div class="drop-zone" id="dragZone">Drop Here</div>
    <div class="drop-zone" id="liftZone">Drop Here</div>
    <div class="drop-zone" id="gravityZone">Drop Here</div>
    <div class="drop-zone" id="thrustZone">Drop Here</div>
  </div>

  <div class="definitions-box">
    <h3>Force Definitions</h3>
    <p><b>DRAG</b> - Air resistance that slows the rocket down because of friction from the air.</p>
    <p><b>LIFT</b> - A force determined by the shape of the body and fins to stabilize and control direction of flight.</p>
    <p><b>GRAVITY</b> - A constant force pulling objects towards Earth.</p>
    <p><b>THRUST</b> - A force created through a chemical reaction that expels gases and pushes the rocket upward.</p>
  </div>

  <script>
    let draggedItem = null;

    function handleStart(e) {
      draggedItem = e.target;
      e.target.style.opacity = "0.5";
    }

    function handleEnd(e) {
      e.target.style.opacity = "1";
    }

    function handleMove(e) {
      if (!draggedItem) return;
      let touch = e.touches ? e.touches[0] : e;
      draggedItem.style.position = "absolute";
      draggedItem.style.left = (touch.pageX - 60) + "px";
      draggedItem.style.top = (touch.pageY - 30) + "px";
    }

    function handleDropZoneTouch(e) {
      e.preventDefault();
      if (draggedItem) {
        const correctZone = draggedItem.getAttribute("data-correct");
        if (e.target.id === correctZone) {
          // ✅ Correct
          e.target.textContent = draggedItem.textContent;
          e.target.classList.add("snap");
          setTimeout(() => e.target.classList.remove("snap"), 300);
          draggedItem.remove();
        } else {
          // ❌ Incorrect — flash red, then reset
          e.target.classList.add("wrong");
          setTimeout(() => e.target.classList.remove("wrong"), 500);
          resetWord(draggedItem);
        }
        draggedItem.style.position = "";
        draggedItem.style.left = "";
        draggedItem.style.top = "";
        draggedItem = null;
      }
    }

    function resetWord(item) {
      const wordBank = document.getElementById("wordBank");
      wordBank.appendChild(item);
      item.style.position = "";
      item.style.left = "";
      item.style.top = "";
    }

    document.querySelectorAll('.draggable').forEach(item => {
      item.addEventListener('mousedown', handleStart);
      item.addEventListener('touchstart', handleStart, { passive: true });
      item.addEventListener('mouseup', handleEnd);
      item.addEventListener('touchend', handleEnd);
      document.addEventListener('mousemove', handleMove);
      document.addEventListener('touchmove', handleMove, { passive: false });
    });

    document.querySelectorAll('.drop-zone').forEach(zone => {
      zone.addEventListener('touchstart', handleDropZoneTouch);
      zone.addEventListener('mouseup', handleDropZoneTouch);
    });

    document.getElementById("resetBtn").addEventListener("click", () => {
      // Reset zones
      document.querySelectorAll('.drop-zone').forEach(zone => zone.textContent = "Drop Here");

      // Reset word bank
      const wordBank = document.getElementById("wordBank");
      wordBank.innerHTML = `
        <div class="draggable" draggable="true" data-correct="dragZone">Drag</div>
        <div class="draggable" draggable="true" data-correct="liftZone">Lift</div>
        <div class="draggable" draggable="true" data-correct="gravityZone">Gravity</div>
        <div class="draggable" draggable="true" data-correct="thrustZone">Thrust</div>
        <button id="resetBtn">Reset</button>
      `;
      attachDragEvents();
    });

    function attachDragEvents() {
      document.querySelectorAll('.draggable').forEach(item => {
        item.addEventListener('mousedown', handleStart);
        item.addEventListener('touchstart', handleStart, { passive: true });
        item.addEventListener('mouseup', handleEnd);
        item.addEventListener('touchend', handleEnd);
        document.addEventListener('mousemove', handleMove);
        document.addEventListener('touchmove', handleMove, { passive: false });
      });
      document.getElementById("resetBtn").addEventListener("click", () => location.reload());
    }
  </script>
</body>
</html>
